(()=>{"use strict";const e=""+Math.random(),t=[Symbol,Boolean,Number,String,Object,Set,Map,WeakMap,WeakSet,Uint8Array,Uint16Array,Uint32Array,Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8ClampedArray,Node,NodeList,Element,HTMLElement,Blob,ArrayBuffer,FileList,Text,HTMLDocument,Document,DocumentFragment,Error,File,Event,EventTarget,URL],r=e=>null==e||null==e,n=new Map;function o(e,...t){const r=t.reduce(((t,r,n)=>t+r+e[n+1]),e[0]);if(!n.has(r))throw new TypeError(`Cannot use type ${r} before it is defined.`);return n.get(r).type}function a(e,t,{partial:i=!1}={}){y(e),m(e);const c=e.name,{spec:l,kind:u,help:d,verify:h,verifiers:b,sealed:v}=n.get(c),g=l?f(l).sort():[],k=new Set(g),w=[];switch(u){case"def":{let n=!0;if(l){const e=i?f(t,k):g;n=!r(t)&&e.every((e=>{const{resolved:r,errors:n}=s(t,e,(()=>{return t=s(l,e).resolved,r=o`None`,y(t),m(t),y(r),m(r),!(t!==r&&(!t.isSumType||!t.types.has(r))&&(!r.isSumType||!r.types.has(t))&&(!t.name.startsWith("?")||r!=o`None`)&&(!r.name.startsWith("?")||t!=o`None`)&&((t.name.startsWith(">")||r.name.startsWith(">"))&&console.error(new Error("Check type match has not been implemented for derived//sub types yet.")),1));var t,r}));if(w.push(...n),n.length)return!1;const i=s(l,e).resolved;if(!(i&&i instanceof p))return w.push({error:`Key path '${e}' is not present in the spec for type '${c}'`}),!1;const{valid:u,errors:f}=a(i,r);return w.push(...f),u}))}let u=!0;if(i&&!l&&h)throw new TypeError("Type checking with option 'partial' is not a valid option for types that only use a verify function but have no spec");if(h)try{if(u=h(t),!u){if(b)throw{error:`Type ${c} value '${JSON.stringify(t)}' violated at least 1 verify function in:\n${b.map((e=>"\t"+(e.help||"")+" ("+e.verify.toString()+")")).join("\n")}`};if(e.isSumType)throw{error:`Value '${JSON.stringify(t)}' did not match any of: ${[...e.types.keys()].map((e=>e.name))}`,verify:h,verifiers:b};{let e="";throw d&&(e=`Help: ${d}. `),{error:`${e}Type ${c} Value '${JSON.stringify(t)}' violated verify function in: ${h.toString()}`}}}}catch(e){w.push(e),u=!1}let E=!0;if(v&&l){const e=g,r=f(t,k).sort();if(E=r.join(",")==e.join(","),!E)if(r.length<e.length)E=!0;else{const t=[],n=new Set(e);for(const e of r)n.has(e)||t.push({error:`Key path '${e}' is not in the spec for type ${c}`});t.length&&w.push(...t)}}return{valid:n&&u&&E,errors:w,partial:i}}case"defCollection":{const{valid:e,errors:r}=a(l.container,t);let n=!0,o=!0;if(w.push(...r),i)throw new TypeError("Type checking with option 'partial' is not a valid option for Collection types");if(e&&(n=[...t].every((e=>{const{valid:t,errors:r}=a(l.member,e);return w.push(...r),t}))),h)try{o=h(t)}catch(e){w.push(e),o=!1}return{valid:e&&n&&o,errors:w}}default:throw new TypeError(`Checking for type kind ${u} is not yet implemented.`)}}function i(...e){return a(...e).valid}function s(e,t,n){if(r(e))throw new TypeError("Lookup requires a non-unset object.");if(!t)throw new TypeError("keyPath must not be empty");const o=t.split(/\./g),a=[],i=[];let s=e;for(;o.length;){const e=o.shift();if(s=s[e],a.push(e),null==s){o.length?i.push({error:`Lookup on key path '${t}' failed at '`+a.join(".")+`' when ${s} was found at '${e}'.`}):n&&n()?s=void 0:i.push({error:`Resolution on key path '${t}' failedwhen ${s} was found at '${e}' and the Type of thiskey's value cannot be None.`});break}}return{resolved:s,errors:i}}function c(e,t,{verify:r,help:n=""}={},o=""){let a;if(y(e),m(e),r||(r=()=>!0),e.native){a=[{help:n,verify:r}],r=t=>t instanceof e.native;const t=`Needs to be of type ${e.native.name}. ${n||""}`;a.push({help:t,verify:r})}return h(`${o}>${e.name}`,t,{verify:r,help:n,verifiers:a})}function l(e){return n.has(e)}function u(e){if(l(e))throw new TypeError(`Type ${e} cannot be redefined.`)}function f(e,t){const r=!t;return function e(n,o,a=""){const i=Object.getOwnPropertyNames(n),s=i.map((e=>a+(a.length?".":"")+e));return i.forEach(((a,i)=>{const c=n[a];if(r)if(c instanceof p)o.add(s[i]);else{if("object"!=typeof c)throw new TypeError("Spec cannot contain leaf values that are not valid Types");if(Array.isArray(c))throw new TypeError("We don't support Types that use Arrays as structure, just yet.");e(c,o,s[i])}else t.has(s[i])?o.add(s[i]):"object"==typeof c?Array.isArray(c)?c.forEach(((t,r)=>e(t,o,s[i]+"."+r))):e(c,o,s[i]):o.add(s[i])})),[...o]}(e,new Set,"")}function d(e){y(e);const t=e.name;return o.def(`?${t}`,null,{verify:t=>b(t)||o.check(e,t)})}function p(e,t={}){if(!new.target)throw new TypeError("Type with new only.");if(Object.defineProperty(this,"name",{get:()=>e}),this.typeName=e,t.types){const{types:e}=t,r=new Set(e);Object.defineProperty(this,"isSumType",{get:()=>!0}),Object.defineProperty(this,"types",{get:()=>r})}if(t.native){const{native:e}=t;Object.defineProperty(this,"native",{get:()=>e})}}function h(e,t,{help:r="",verify:o,sealed:a,types:i,verifiers:s,native:c}={}){if(!e)throw new TypeError("Type must be named.");if(u(e),e.startsWith("?")){if(t)throw new TypeError("Option type can not have a spec.");if(!o(null))throw new TypeError("Option type must be OK to be unset.")}void 0===a&&(a=!0);const l=new p(e,{types:i,native:c}),f={spec:t,kind:"def",help:r,verify:o,verifiers:s,sealed:a,types:i,native:c,type:l};return n.set(e,f),l}function y(e){if(!(e instanceof p))throw new TypeError("Type must be a valid Type object.")}function m(e){const t=v(e);if(!l(t))throw new TypeError(`Type must exist. Type ${t} has not been defined.`)}function b(e){return null==e}function v(e){if(e&&e.name)return e.name;const t=Object.prototype.toString.call(e).replace(/\[object |\]/g,"");return t.endsWith("Constructor")?t.replace(/Constructor$/,""):t}o.def=h,o.check=i,o.sub=function(e){return o`>${e.name}`},o.verify=function(...e){return i(...e)},o.validate=a,o.partialMatch=function(e,t){return a(e,t,{partial:!0})},o.defEnum=function(e,...t){if(!e)throw new TypeError("Type must be named.");u(e);const r=new Set(t);return h(e,null,{verify:e=>r.has(e),help:`Value of Enum type ${e} must be one of ${t.join(",")}`})},o.defSub=c,o.defTuple=function(e,{pattern:t}){if(!e)throw new TypeError("Type must be named.");if(!t)throw new TypeError("Type must be specified.");const r={};t.forEach(((e,t)=>r[t]=e));const o=new p(e),a={kind:"def",spec:r,type:o};return n.set(e,a),o},o.defCollection=function(e,{container:t,member:r},{sealed:o=!0,verify:a}={}){if(!e)throw new TypeError("Type must be named.");if(!t||!r)throw new TypeError("Type must be specified.");u(e);const i=new p(e),s={kind:"defCollection",spec:{container:t,member:r},verify:a,sealed:o,type:i};return n.set(e,s),i},o.defOr=function(e,...t){return o.def(e,null,{types:t,verify:e=>t.some((t=>i(t,e)))})},o.option=function(e){return o`?${e.name}`},o.defOption=d,o.maybe=function(e){try{return d(e)}catch(e){}return o`?${e.name}`},o.guard=function(e,t){y(e),m(e);const{valid:r,errors:n}=a(e,t);if(!r)throw new TypeError(`Type ${e} requested, but item is not of that type: ${n.join(", ")}`)},o.errors=function(...e){return a(...e).errors},o[Symbol.for("jtype-system.typeCache")]=n,o.def("Any",null,{verify:()=>!0}),o.def("Some",null,{verify:e=>!b(e)}),o.def("None",null,{verify:e=>b(e)}),o.def("Function",null,{verify:e=>e instanceof Function}),o.def("Integer",null,{verify:e=>Number.isInteger(e)}),o.def("Array",null,{verify:e=>Array.isArray(e)}),o.def("Iterable",null,{verify:e=>e[Symbol.iterator]instanceof Function}),t.forEach((e=>h(v(e),null,{native:e,verify:t=>v(t.constructor)===v(e)}))),t.forEach((e=>c(o`${v(e)}`))),p.prototype.toString=function(){return`${this.typeName} Type`};const g=o,k=(o.def("Key",{key:o.defOr("ValidKey",o`String`,o`Number`)}),o.def("Handlers",null,{verify:e=>{if(!o.check(o`Object`,e))return!1;const t=Object.keys(e),r=Object.values(e),n=t.every((e=>o.check(o`String`,e))),a=r.every((e=>o.check(o`Function`,e)));return n&&a}}));o.defCollection("FuncArray",{container:o`Array`,member:o`Function`}),o.def("EmptyArray",null,{verify:e=>Array.isArray(e)&&0==e.length}),o.def("MarkupObject",{type:o`String`,code:o`String`,nodes:o`Array`,externals:o`Array`},{verify:t=>"MarkupObject"==t.type&&t.code==e}),o.def("MarkupAttrObject",{type:o`String`,code:o`String`,str:o`String`},{verify:t=>"MarkupAttrObject"==t.type&&t.code==e}),o.def("BrutalLikeObject",{code:o`String`,externals:o`Array`,nodes:o`Array`,to:o`Function`,update:o`Function`,v:o`Array`,oldVals:o`Array`});o.def("BrutalObject",{code:o`String`,externals:o`Array`,nodes:o`Array`,to:o`Function`,update:o`Function`,v:o`Array`,oldVals:o`Array`},{verify:t=>function(t){return e===t.code}(t)}),o.defCollection("BrutalArray",{container:o`Array`,member:o`BrutalObject`}),o.def("SBrutalObject",{str:o`String`,handlers:k}),o.defCollection("SBrutalArray",{container:o`Array`,member:o`SBrutalObject`});const w=H,E=W,A=()=>{},O=/(?:<!\-\-)?(key\d+)(?:\-\->)?/gm,j=/\w+=/,T=20,N=new class{beforeend(e,t){t.appendChild(e)}beforebegin(e,t){t.parentNode.insertBefore(e,t)}afterend(e,t){t.parentNode.insertBefore(e,t.nextSibling)}replace(e,t){t.parentNode.replaceChild(e,t)}afterbegin(e,t){t.insertBefore(e,t.firstChild)}innerhtml(e,t){t.innerHTML="",t.appendChild(e)}};self.onerror=(...e)=>(console.log(e,e[0]+"",e[4]&&e[4].message,e[4]&&e[4].stack),!0);const x=e=>g.check(g`Key`,e),$={},S=M;function M(t,...r){return function(t,r,{useCache:n=!0}={}){const o={};let a,i;if(r=r.map(K),n){({key:a}=r.find(x)||{}),i=t.join("<link rel=join>");const{cached:e,firstCall:n}=function(e,t,r){let n,o=$[e];return null==o?(o=$[e]={},r&&(o.instances={},o=o.instances[r]={}),n=!0):r?o.instances?(o=o.instances[r],n=!o):(o.instances={},n=!0):n=!1,{cached:o,firstCall:n}}(i,0,a);if(!n)return e.update(r),e;o.oldVals=Array.from(r)}else o.oldVals=Array.from(r);t=[...t];const s={},c=r.map(function(e){return(t,r)=>{if(g.check(g`Key`,t))return"";const n=("key"+Math.random()).replace(".","").padEnd(T,"0").slice(0,T);let o=n;return(g.check(g`BrutalObject`,t)||g.check(g`MarkupObject`,t))&&(o=`\x3c!--${o}--\x3e`),e[n.trim()]={vi:r,val:t,replacers:[]},o}}(s)),l=[];let u="";for(;t.length>1;)u+=t.shift()+c.shift();u+=t.shift();const f=P(u),d=document.createTreeWalker(f,NodeFilter.SHOW_ALL);do{V({walker:d,vmap:s,externals:l})}while(d.nextNode());return Object.assign(o,{externals:l,v:Object.values(s),to:C,update:J,code:e,nodes:[...f.childNodes]}),n&&(a?$[i].instances[a]=o:$[i]=o),o}(t,r)}function C(e,t){const r=(t||"replace").toLocaleLowerCase(),n=document.createDocumentFragment();this.nodes.forEach((e=>n.appendChild(e)));const o=g.check(g`>Node`,e)?e:document.querySelector(e);try{N[r](n,o)}catch(t){switch(t.constructor&&t.constructor.name){case"DOMException":U({error:"Error inserting template into DOM. Position must be one of: replace, beforebegin, afterbegin, beforeend, innerhtml, afterend"});break;case"TypeError":U({error:(a=e,`Error inserting template into DOM. Location ${a} was not found in the document.`)});break;default:throw t}}for(var a;this.externals.length;)this.externals.shift()()}function V({walker:e,vmap:t,externals:r}){const n=e.currentNode;switch(n.nodeType){case Node.ELEMENT_NODE:!function({node:e,vmap:t,externals:r}){(function(e){if(!e.hasAttribute)return[];if(e.hasAttribute("class")&&e.setAttribute("class",q(e.getAttribute("class"))),e.attributes&&Number.isInteger(e.attributes.length))return Array.from(e.attributes);const t=[];for(const r of e)e.hasAttribute(r)&&t.push({name:r,value:e.getAttribute(r)});return t})(e).forEach((({name:n,value:o}={})=>{const a={node:e,vmap:t,externals:r,name:n,lengths:[]};O.lastIndex=0;let i=O.exec(n);for(;i;)F(i,a,{updateName:!0}),i=O.exec(n);for(O.lastIndex=0,i=O.exec(o);i;)F(i,a,{updateName:!1}),i=O.exec(o)}))}({node:n,vmap:t,externals:r});break;case Node.COMMENT_NODE:case Node.TEXT_NODE:!function({node:e,vmap:t,externals:r}){const n=[],o=e.nodeValue;let a=O.exec(o);for(;a;){const{index:i}=a,s=t[a[1]],c=L({node:e,index:i,lengths:n,val:s});r.push((()=>c(s.val))),s.replacers.push(c),a=O.exec(o)}}({node:n,vmap:t,externals:r})}}function L(e){const{node:t}=e,r=Object.assign({},e,{oldVal:{length:T},oldNodes:[t],lastAnchor:t});return e=>{if(r.oldVal!=e)switch(r.val.val=e,I(e)){case"markupobject":case"brutalobject":!function(e,t){let{oldNodes:r,lastAnchor:n}=t;if(e.nodes.length)o=r,a=e.nodes,o.length==a.length&&Array.from(o).every(((e,t)=>e==a[t]))||(Array.from(e.nodes).reverse().forEach((e=>{n.parentNode.insertBefore(e,n.nextSibling),t.lastAnchor=n.nextSibling})),t.lastAnchor=e.nodes[0]);else{const e=function(e){let t=[...e.parentNode.childNodes].find((e=>e.nodeType==Node.COMMENT_NODE&&"brutal-placeholder"==e.nodeValue));return t||(t=P("\x3c!--brutal-placeholder--\x3e").firstChild),t}(n);n.parentNode.insertBefore(e,n.nextSibling),t.lastAnchor=e}var o,a;const i=(s=r,c=e.nodes,s=new Set(s),c=new Set(c),new Set([...s].filter((e=>!c.has(e)))));var s,c;if(i.size){const e=document.createDocumentFragment();i.forEach((t=>e.appendChild(t)))}for(t.oldNodes=e.nodes||[n];e.externals.length;)e.externals.shift()()}(e,r);break;default:!function(e,t){let{oldVal:r,index:n,val:o,lengths:a,node:i}=t;const s=o.vi,c=Object.keys(a.slice(0,s)).length*T,l=a.slice(0,s).reduce(((e,t)=>e+t),0),u=i.nodeValue;a[s]=e.length;const f=l-c,d=u.slice(0,n+f)+e+u.slice(n+f+r.length);i.nodeValue=d,t.oldVal=e}(e,r)}}}function F(e,t,{updateName:r}){const{index:n,input:o}=e,a=Object.assign({},t,{index:n,input:o,updateName:r,val:t.vmap[e[1]],oldVal:{length:T},oldName:t.name});let i;i=r?function(e){let{oldName:t,node:r,val:n}=e;return e=>{if(t==e)return;n.val=e;const o=r.hasAttribute(t)?t:"";if(o!==e){if(o&&(r.removeAttribute(t),r[t]=void 0),e){let t,n=e=e.trim();if(j.test(e)){const r=e.indexOf("=");[n,t]=[e.slice(0,r),e.slice(r+1)]}D(r,n,t)}t=e}}}(a):function(e){return t=>{if(e.oldVal!=t)switch(e.val.val=t,I(t)){case"funcarray":!function(e,t){let{oldVal:r,node:n,name:o,externals:a}=t;if(r&&!Array.isArray(r)&&(r=[r]),"bond"!==o){let t={};o.includes(":")&&([o,...t]=o.split(":"),t=t.reduce(((e,t)=>(e[t]=!0,e)),{})),r&&r.forEach((e=>n.removeEventListener(o,e,t))),e.forEach((e=>n.addEventListener(o,e,t)))}else r&&r.forEach((e=>{const t=a.indexOf(e);t>=0&&a.splice(t,1)})),e.forEach((e=>a.push((()=>e(n)))));t.oldVal=e}(t,e);break;case"function":!function(e,t){let{oldVal:r,node:n,name:o,externals:a}=t;if("bond"!==o){let t={};o.includes(":")&&([o,...t]=o.split(":"),t=t.reduce(((e,t)=>(e[t]=!0,e)),{})),r&&n.removeEventListener(o,r,t),n.addEventListener(o,e,t)}else{if(r){const e=a.indexOf(r);e>=0&&a.splice(e,1)}a.push((()=>e(n)))}t.oldVal=e}(t,e);break;case"handlers":!function(e,t){let{oldVal:r,node:n,externals:o}=t;r&&g.check(g`Handlers`,r)&&Object.entries(r).forEach((([e,t])=>{if("bond"!==e){let r={};e.includes(":")&&([e,...r]=e.split(":"),r=r.reduce(((e,t)=>(e[t]=!0,e)),{})),console.log(e,t,r),n.removeEventListener(e,t,r)}else{const e=o.indexOf(t);e>=0&&o.splice(e,1)}})),Object.entries(e).forEach((([e,t])=>{if("bond"!==e){let r={};e.includes(":")&&([e,...r]=e.split(":"),r=r.reduce(((e,t)=>(e[t]=!0,e)),{})),n.addEventListener(e,t,r)}else o.push((()=>t(n)))})),t.oldVal=e}(t,e);break;case"markupobject":case"brutalobject":B(t=function(e){const t=document.createDocumentFragment();e.forEach((e=>t.appendChild(e.cloneNode(!0))));const r=document.createElement("body");return r.appendChild(t),r.innerHTML}(t.nodes),e);break;case"markupattrobject":t=t.str;default:B(t,e)}}}(a),a.externals.push((()=>i(a.val.val))),a.val.replacers.push(i)}function B(e,t){let{oldVal:r,node:n,index:o,name:a,val:i,lengths:s}=t,c=0;const l=i.vi,u=Object.keys(s.slice(0,l)).length*T;"class"==a&&(0==(e=e.trim()).length&&(c=-1),t.val.val=e),s[l]=e.length+c;let f=n.getAttribute(a);const d=s.slice(0,l).reduce(((e,t)=>e+t),0)-u,p=f.slice(0,o+d),h=f.slice(o+d+r.length);let y;if("class"==a){const t=0==r.length?" ":"";y=p+t+e+t+h}else y=p+e+h;D(n,a,y),t.oldVal=e}function D(e,t,r){"class"==t&&(r=q(r));try{e.setAttribute(t,r)}catch(e){}try{e[t]=null==r||r}catch(e){}}function I(e){return g.check(g`Function`,e)?"function":g.check(g`Handlers`,e)?"handlers":g.check(g`BrutalObject`,e)?"brutalobject":g.check(g`MarkupObject`,e)?"markupobject":g.check(g`MarkupAttrObject`,e)?"markupattrobject":g.check(g`BrutalArray`,e)?"brutalarray":g.check(g`FuncArray`,e)?"funcarray":"default"}function H(t){const r=P(t=g.check(g`None`,t)?"":t);return{type:"MarkupObject",code:e,nodes:[...r.childNodes],externals:[]}}function W(t){return t=(t=g.check(g`None`,t)?"":t).replace(/"/g,"&quot;"),{type:"MarkupAttrObject",code:e,str:t}}function q(e){return(e=e.trim()).replace(/\s+/g," ")}function P(e){const t=(new DOMParser).parseFromString(`<template>${e}</template>`,"text/html").head.firstElementChild;let r;if(t instanceof HTMLTemplateElement)return r=t.content,r.normalize(),r;throw new TypeError(`Could not find template element after parsing string to DOM:\n=START=\n${e}\n=END=`)}function K(t){const r=g.check(g`Function`,t),n=g.check(g`None`,t),o=g.check(g`Object`,t),a=g.check(g`BrutalArray`,t),i=g.check(g`FuncArray`,t),s=g.check(g`MarkupObject`,t),c=g.check(g`MarkupAttrObject`,t),l=g.check(g`BrutalObject`,t),u=g.check(g`BrutalLikeObject`,t)&&!l;return r||l||x(t)||(e=>g.check(g`Handlers`,e))(t)?t:a?function(t){const r=[],n=[];return t.forEach((e=>{r.push(...e.externals),n.push(...e.nodes)})),{v:[],code:e,oldVals:[],nodes:n,to:C,update:J,externals:r}}(t):i||s||c?t:(n&&U({error:"Unset values not allowed here."}),u&&U({error:"Possible XSS / object forgery attack detected. Object code could not be verified."}),o&&U({error:"Object values not allowed here."}),t+"")}function J(e){this.v.filter((({vi:t})=>function(e,t){const[r,n]=[e,t].map(I);let o;if(r!=n)o=!0;else switch(r){case"brutalobject":o=!0;break;case"funcarray":case"function":case"brutalarray":o=!0;break;case"markupattrobject":case"markupobject":o=!0;break;default:o=JSON.stringify(e)!==JSON.stringify(t)}return o}(e[t],this.oldVals[t]))).forEach((({vi:t,replacers:r})=>r.forEach((r=>r(e[t]))))),this.oldVals=Array.from(e)}function U(e,t){throw e.stack=(new Error).stack.split(/\s*\n\s*/g),JSON.stringify(e,null,2)}Object.assign(M,{s:function(e){},attrskip:E,skip:w,attrmarkup:W,markup:H,guardEmptyHandlers:function(e){return Array.isArray(e)?0==e.length?[A]:e:g.check(g`None`,e)?A:void 0},die:U});const _={state:null};function R(e){return e.state={squares:Array(9).fill(""),xIsNext:!0}}function X({state:e}){return S`
      <div class="game">
        <div class="game-board">
          ${function(e){const{squares:t,xIsNext:r}=e,n=G(t);let o;return o=n?"Winner: "+n:"Next player: "+(r?"X":"O"),S`
      <div>
        <div class="status">${o}</div>
        <div class="board-row">
          ${z({state:e,i:0})}
          ${z({state:e,i:1})}
          ${z({state:e,i:2})}
        </div>
        <div class="board-row">
          ${z({state:e,i:3})}
          ${z({state:e,i:4})}
          ${z({state:e,i:5})}
        </div>
        <div class="board-row">
          ${z({state:e,i:6})}
          ${z({state:e,i:7})}
          ${z({state:e,i:8})}
        </div>
      </div>
    `}(e)}
        </div>
        <div class="game-info">
          <div>${""}</div>
          <ol>${""}</ol>
          <button click=${()=>Q(R(_))}>Reset</button>
        </div>
      </div>
    `}function z({state:e,i:t}){return S`${{key:t+""}}
      <button class="square" click=${()=>function({state:e,i:t}){const r=e.squares.slice();G(r)||r[t]||(r[t]=e.xIsNext?"X":"O",Q({squares:r,xIsNext:!e.xIsNext}))}({state:e,i:t})}>
        ${e.squares[t]}
      </button>
    `}function G(e){const t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let r=0;r<t.length;r++){const[n,o,a]=t[r];if(e[n]&&e[n]===e[o]&&e[n]===e[a])return e[n]}return null}function Q(e){_.state=e,X(_)}!async function(){R(_),X(_).to("#app","innerHTML")}()})();